




*** Keywords ***

Given there are no accounts in the system
    Remove File  ${DATABASE}
    Reload User Database

When a user creates an account with username "${username}" and password "${password}"
    ${STATUS} =  Create User  ${username}  ${password}      
    Set Test Variable  ${STATUS}

When a user creates a password with no number
    ${STATUS} =  Create User  fred123  p@ssword      
    Set Test Variable  ${STATUS}
   
When a user creates a password with no number and no symbol
    ${STATUS} =  Create User  fred123  password      
    Set Test Variable  ${STATUS}

Then the system responds with the message "${message}"
    Should Be Equal  ${STATUS}  ${message}

When a user attempts to create an account with a username that already exists
    Create User  fred  p@ssw0rd
    ${STATUS} =  Create User  fred  p@ssw1rd
    Set Test Variable  ${STATUS}

Given there is an account with username "${username}" and password "${password}"
    Given there are no accounts in the system
    When a user creates an account with username "${username}" and password "${password}"
    Then the system responds with the message "Account created"

When a user attempts to login with username "${username}" and password "${password}"
    ${STATUS} =  Attempt to Login  ${username}  ${password}
    Set Test Variable  ${STATUS}
    
Then the database contains an ${state} account ${username}/${password}
    ${db} =  Get File  ${DATABASE}
    Should Contain  ${db}  ${username}\t${password}\t${state}

Given there is an account with username "${username}" and invalid password "${password}"
    Create File  ${DATABASE}  ${username}\t${password}\tactive\n
    Reload User Database

Should be invalid  [Arguments]  ${password}
    Given there are no accounts in the system
    When a user creates an account with username "fred" and password "${password}"
    Then the system responds with the message "A password needs to be between 6 and 12 characters with at least one letter, one symbol, and one number."


*** Settings ***

Library         OperatingSystem
Resource        ${INTERFACE}_resource.txt


*** Variables ***

${INTERFACE}  cli
${DATABASE}   ${TEMPDIR}/pwds.txt